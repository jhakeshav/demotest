{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import ItemsTable from\"./components/ItemsTable\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[items,setItems]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[newItemName,setNewItemName]=useState(\"\");const API_URL=\"http://localhost:8000/items\";const fetchItems=()=>{setLoading(true);axios.get(API_URL).then(response=>{setItems(response.data);setLoading(false);}).catch(()=>{setError(\"Failed to fetch items\");setLoading(false);});};const createItem=e=>{e.preventDefault();if(!newItemName.trim())return;axios.post(API_URL,{name:newItemName}).then(()=>{setNewItemName(\"\");fetchItems();}).catch(()=>{alert(\"Failed to create item\");});};const deleteItem=id=>{if(!window.confirm(\"Are you sure you want to delete this item?\"))return;axios.delete(\"\".concat(API_URL,\"/\").concat(id)).then(()=>{fetchItems();}).catch(()=>{alert(\"Failed to delete item\");});};useEffect(()=>{fetchItems();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"p-4\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"p-4 text-red-500\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:createItem,className:\"flex gap-2 mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newItemName,onChange:e=>setNewItemName(e.target.value),placeholder:\"Enter item name\",className:\"flex-1 px-3 py-2 border rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\",children:\"Add\"})]}),/*#__PURE__*/_jsx(ItemsTable,{items:items,onDelete:deleteItem})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","ItemsTable","jsx","_jsx","jsxs","_jsxs","App","items","setItems","loading","setLoading","error","setError","newItemName","setNewItemName","API_URL","fetchItems","get","then","response","data","catch","createItem","e","preventDefault","trim","post","name","alert","deleteItem","id","window","confirm","delete","concat","className","children","onSubmit","type","value","onChange","target","placeholder","onDelete"],"sources":["/Users/keshavjha/comapp/demoapp/my-fastapi-react-table-full/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport ItemsTable from \"./components/ItemsTable\";\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newItemName, setNewItemName] = useState(\"\");\n\n  const API_URL = \"http://localhost:8000/items\";\n\n  const fetchItems = () => {\n    setLoading(true);\n    axios.get(API_URL)\n      .then(response => {\n        setItems(response.data);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(\"Failed to fetch items\");\n        setLoading(false);\n      });\n  };\n\n  const createItem = (e) => {\n    e.preventDefault();\n    if (!newItemName.trim()) return;\n    axios.post(API_URL, { name: newItemName })\n      .then(() => {\n        setNewItemName(\"\");\n        fetchItems();\n      })\n      .catch(() => {\n        alert(\"Failed to create item\");\n      });\n  };\n\n  const deleteItem = (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this item?\")) return;\n    axios.delete(`${API_URL}/${id}`)\n      .then(() => {\n        fetchItems();\n      })\n      .catch(() => {\n        alert(\"Failed to delete item\");\n      });\n  };\n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  if (loading) return <p className=\"p-4\">Loading...</p>;\n  if (error) return <p className=\"p-4 text-red-500\">{error}</p>;\n\n  return (\n    <div className=\"p-6 max-w-3xl mx-auto\">\n      {/* Create Item Form */}\n      <form onSubmit={createItem} className=\"flex gap-2 mb-6\">\n        <input\n          type=\"text\"\n          value={newItemName}\n          onChange={(e) => setNewItemName(e.target.value)}\n          placeholder=\"Enter item name\"\n          className=\"flex-1 px-3 py-2 border rounded-lg\"\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg\"\n        >\n          Add\n        </button>\n      </form>\n\n      {/* Items Table */}\n      <ItemsTable items={items} onDelete={deleteItem} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAElD,KAAM,CAAAgB,OAAO,CAAG,6BAA6B,CAE7C,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvBN,UAAU,CAAC,IAAI,CAAC,CAChBV,KAAK,CAACiB,GAAG,CAACF,OAAO,CAAC,CACfG,IAAI,CAACC,QAAQ,EAAI,CAChBX,QAAQ,CAACW,QAAQ,CAACC,IAAI,CAAC,CACvBV,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDW,KAAK,CAAC,IAAM,CACXT,QAAQ,CAAC,uBAAuB,CAAC,CACjCF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAY,UAAU,CAAIC,CAAC,EAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACX,WAAW,CAACY,IAAI,CAAC,CAAC,CAAE,OACzBzB,KAAK,CAAC0B,IAAI,CAACX,OAAO,CAAE,CAAEY,IAAI,CAAEd,WAAY,CAAC,CAAC,CACvCK,IAAI,CAAC,IAAM,CACVJ,cAAc,CAAC,EAAE,CAAC,CAClBE,UAAU,CAAC,CAAC,CACd,CAAC,CAAC,CACDK,KAAK,CAAC,IAAM,CACXO,KAAK,CAAC,uBAAuB,CAAC,CAChC,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,EAAE,EAAK,CACzB,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,OACnEhC,KAAK,CAACiC,MAAM,IAAAC,MAAA,CAAInB,OAAO,MAAAmB,MAAA,CAAIJ,EAAE,CAAE,CAAC,CAC7BZ,IAAI,CAAC,IAAM,CACVF,UAAU,CAAC,CAAC,CACd,CAAC,CAAC,CACDK,KAAK,CAAC,IAAM,CACXO,KAAK,CAAC,uBAAuB,CAAC,CAChC,CAAC,CAAC,CACN,CAAC,CAED9B,SAAS,CAAC,IAAM,CACdkB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIP,OAAO,CAAE,mBAAON,IAAA,MAAGgC,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CACrD,GAAIzB,KAAK,CAAE,mBAAOR,IAAA,MAAGgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEzB,KAAK,CAAI,CAAC,CAE7D,mBACEN,KAAA,QAAK8B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAEpC/B,KAAA,SAAMgC,QAAQ,CAAEf,UAAW,CAACa,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACrDjC,IAAA,UACEmC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE1B,WAAY,CACnB2B,QAAQ,CAAGjB,CAAC,EAAKT,cAAc,CAACS,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAChDG,WAAW,CAAC,iBAAiB,CAC7BP,SAAS,CAAC,oCAAoC,CAC/C,CAAC,cACFhC,IAAA,WACEmC,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC5E,KAED,CAAQ,CAAC,EACL,CAAC,cAGPjC,IAAA,CAACF,UAAU,EAACM,KAAK,CAAEA,KAAM,CAACoC,QAAQ,CAAEd,UAAW,CAAE,CAAC,EAC/C,CAAC,CAEV,CAEA,cAAe,CAAAvB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}